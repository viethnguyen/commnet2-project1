<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Common_Classes_Projects_ECE544: common.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>common.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef COMMON_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define COMMON_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#define MAX_HOSTNAME_LENGTH 256</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define MAC_ADDR_LENGTH 6</span>
00006 <span class="preprocessor"></span><span class="preprocessor">#define MAX_HEADER_SIZE 256</span>
00007 <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_SEND_PORT 3000</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_RECV_PORT 4000</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#define MAXBUFLENGTH 10000</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define MTU_SIZE 1500</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include &lt;string.h&gt;</span>
00013 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
00014 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00015 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00016 <span class="preprocessor">#include &lt;netinet/in.h&gt;</span>
00017 <span class="preprocessor">#include &lt;netdb.h&gt;</span>
00018 <span class="preprocessor">#include &lt;arpa/inet.h&gt;</span>
00019 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00020 <span class="preprocessor">#include &lt;ctime&gt;</span>
00021 
00022 <span class="preprocessor">#ifndef INADDR_NONE</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#  define INADDR_NONE (-1)</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00025 <span class="preprocessor"></span>
00026 
00028 
<a name="l00042"></a><a class="code" href="classPacketHdr.html">00042</a> <span class="keyword">class </span><a class="code" href="classPacketHdr.html">PacketHdr</a>{
00043  
00044  <span class="keyword">public</span>:
00045   <a class="code" href="classPacketHdr.html">PacketHdr</a>();
<a name="l00049"></a><a class="code" href="classPacketHdr.html#a1">00049</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPacketHdr.html#a1">init</a>(){memset(<a class="code" href="classPacketHdr.html#p0">info_</a>,0,MAX_HEADER_SIZE );}
00053   <span class="keywordtype">short</span> <a class="code" href="classPacketHdr.html#a2">getShortIntegerInfo</a>(<span class="keywordtype">int</span> position);
00057   <span class="keywordtype">int</span> <a class="code" href="classPacketHdr.html#a3">getIntegerInfo</a>(<span class="keywordtype">int</span> position);
<a name="l00061"></a><a class="code" href="classPacketHdr.html#a4">00061</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classPacketHdr.html#a4">accessInfo</a>(){<span class="keywordflow">return</span> <a class="code" href="classPacketHdr.html#p0">info_</a>;}
<a name="l00065"></a><a class="code" href="classPacketHdr.html#a5">00065</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacketHdr.html#a5">getSize</a>() { <span class="keywordflow">return</span> <a class="code" href="classPacketHdr.html#p1">length_</a>; } 
00069   <span class="keywordtype">void</span> <a class="code" href="classPacketHdr.html#a6">setIntegerInfo</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> position);
00073   <span class="keywordtype">void</span> <a class="code" href="classPacketHdr.html#a7">setShortIntegerInfo</a>(<span class="keywordtype">short</span> b, <span class="keywordtype">int</span> position);
<a name="l00077"></a><a class="code" href="classPacketHdr.html#a8">00077</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPacketHdr.html#a8">setOctet</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c, <span class="keywordtype">int</span> position){ *(<a class="code" href="classPacketHdr.html#p0">info_</a>+position)= c; <a class="code" href="classPacketHdr.html#p1">length_</a>++;}
<a name="l00081"></a><a class="code" href="classPacketHdr.html#a9">00081</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPacketHdr.html#a9">setHeaderSize</a>(<span class="keywordtype">int</span> len){ <a class="code" href="classPacketHdr.html#p1">length_</a> =len; }
<a name="l00085"></a><a class="code" href="classPacketHdr.html#a10">00085</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classPacketHdr.html#a10">getOctet</a>(<span class="keywordtype">int</span> position){ <span class="keywordflow">return</span> <a class="code" href="classPacketHdr.html#p0">info_</a>[position];}
00086   
00087  <span class="keyword">protected</span> :
<a name="l00088"></a><a class="code" href="classPacketHdr.html#p0">00088</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classPacketHdr.html#p0">info_</a>;   
<a name="l00089"></a><a class="code" href="classPacketHdr.html#p1">00089</a>    <span class="keywordtype">int</span> <a class="code" href="classPacketHdr.html#p1">length_</a>; 
00090 };
00091 
00092 
00094 
<a name="l00099"></a><a class="code" href="classPacket.html">00099</a> <span class="keyword">class </span><a class="code" href="classPacket.html">Packet</a> {
00100  
00101 <span class="keyword">public</span>:
<a name="l00105"></a><a class="code" href="classPacket.html#s0">00105</a>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#s0">DEFAULT_PAYLOAD_SIZE</a> = 512;
00106   <a class="code" href="classPacket.html">Packet</a>();
00107   <a class="code" href="classPacket.html">Packet</a>(<span class="keywordtype">int</span> buffer_length);
00108   <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a2">fillPayload</a>(<span class="keywordtype">int</span> size, <span class="keywordtype">char</span> *inputstream);  
<a name="l00112"></a><a class="code" href="classPacket.html#a3">00112</a>   <span class="keyword">inline</span> <span class="keywordtype">char</span>* <a class="code" href="classPacket.html#a3">getPayload</a>(){ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#p2">payload_</a>;} 
00113   <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a4">setPayloadSize</a>(<span class="keywordtype">int</span> size);
<a name="l00117"></a><a class="code" href="classPacket.html#a5">00117</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a5">getBufferSize</a>(){<span class="keywordflow">return</span> <a class="code" href="classPacket.html#p1">length_</a>;}
<a name="l00121"></a><a class="code" href="classPacket.html#a6">00121</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a6">getPayloadSize</a>(){ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#p0">size_</a>;}
<a name="l00125"></a><a class="code" href="classPacket.html#a7">00125</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a7">getHeaderSize</a>(){ <span class="keywordflow">return</span> <a class="code" href="classPacket.html#p3">header_</a>-&gt;<a class="code" href="classPacketHdr.html#a5">getSize</a>();}
<a name="l00129"></a><a class="code" href="classPacket.html#a8">00129</a>   <span class="keyword">inline</span> <a class="code" href="classPacketHdr.html">PacketHdr</a>* <a class="code" href="classPacket.html#a8">accessHeader</a>() { <span class="keywordflow">return</span> <a class="code" href="classPacket.html#p3">header_</a>;} 
00130   <span class="keywordtype">void</span> <a class="code" href="classPacket.html#a9">extractHeader</a> (<span class="keywordtype">char</span> * streambuf);
00131   <span class="keywordtype">int</span> <a class="code" href="classPacket.html#a10">makePacket</a> (  <span class="keywordtype">char</span>* streambuf);
00132  
00133 <span class="keyword">protected</span>:               
<a name="l00134"></a><a class="code" href="classPacket.html#p0">00134</a>       <span class="keywordtype">int</span> <a class="code" href="classPacket.html#p0">size_</a>;  
<a name="l00135"></a><a class="code" href="classPacket.html#p1">00135</a>       <span class="keywordtype">int</span> <a class="code" href="classPacket.html#p1">length_</a>; 
<a name="l00136"></a><a class="code" href="classPacket.html#p2">00136</a>       <span class="keywordtype">char</span>* <a class="code" href="classPacket.html#p2">payload_</a>; 
<a name="l00137"></a><a class="code" href="classPacket.html#p3">00137</a>       <a class="code" href="classPacketHdr.html">PacketHdr</a> * <a class="code" href="classPacket.html#p3">header_</a>; 
00138 };
00139 
00141 
<a name="l00148"></a><a class="code" href="classAddress.html">00148</a> <span class="keyword">class </span><a class="code" href="classAddress.html">Address</a>
00149 {
00150   
00151  <span class="keyword">public</span>:
00153   <a class="code" href="classAddress.html#a0">Address</a>();
00155   <a class="code" href="classAddress.html#a0">Address</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* hostname, <span class="keywordtype">short</span> port);
00156    
<a name="l00161"></a><a class="code" href="classAddress.html#a2">00161</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classAddress.html#a2">isSet</a>() { <span class="keywordflow">return</span> (<a class="code" href="classAddress.html#p0">hostname_</a>[0] != <span class="charliteral">'\0'</span> &amp;&amp; <a class="code" href="classAddress.html#p1">port_</a> &gt;= 0); }
<a name="l00165"></a><a class="code" href="classAddress.html#a3">00165</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classAddress.html#a3">setPort</a>(<span class="keyword">const</span> <span class="keywordtype">short</span> port){ <a class="code" href="classAddress.html#p1">port_</a> = port; }
<a name="l00167"></a><a class="code" href="classAddress.html#a4">00167</a>   <span class="keyword">inline</span> <span class="keywordtype">short</span> <a class="code" href="classAddress.html#a4">getPort</a>(){ <span class="keywordflow">return</span> <a class="code" href="classAddress.html#p1">port_</a>; }
00169 
<a name="l00172"></a><a class="code" href="classAddress.html#a5">00172</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classAddress.html#a5">setHostname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* hostname) { 
00173     <span class="keywordflow">if</span> (hostname == NULL) <a class="code" href="classAddress.html#p0">hostname_</a>[0] = <span class="charliteral">'\0'</span>; <span class="keywordflow">else</span> strcpy(<a class="code" href="classAddress.html#p0">hostname_</a>, hostname); }
<a name="l00175"></a><a class="code" href="classAddress.html#a6">00175</a>   <span class="keyword">inline</span> <span class="keywordtype">char</span>* <a class="code" href="classAddress.html#a6">getHostname</a>() {<span class="keywordflow">return</span> <a class="code" href="classAddress.html#p0">hostname_</a>;} 
<a name="l00177"></a><a class="code" href="classAddress.html#a7">00177</a>   <span class="keyword">inline</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classAddress.html#a7">getHWAddr</a>() { <span class="keywordflow">return</span>  <a class="code" href="classAddress.html#p3">macaddr_</a>;} 
00178   <span class="keywordtype">void</span> <a class="code" href="classAddress.html#a8">setHWAddr</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* hwaddr); 
00179   <span class="keywordtype">void</span> <a class="code" href="classAddress.html#a9">setHWAddrFromColonFormat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* colon_seperated_macaddr);
00180   <span class="keywordtype">char</span> * <a class="code" href="classAddress.html#a10">convertHWAddrToColonFormat</a>();
00182   <a class="code" href="classAddress.html">Address</a> *<a class="code" href="classAddress.html#a11">clone</a>();
<a name="l00186"></a><a class="code" href="classAddress.html#a12">00186</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classAddress.html#a12">isSame</a>(<a class="code" href="classAddress.html">Address</a>* addr)
00187   {
00188     <span class="keywordflow">if</span> ( <a class="code" href="classAddress.html#p1">port_</a>==  addr-&gt;<a class="code" href="classAddress.html#a4">getPort</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00189     <span class="keywordflow">if</span> ( strcmp( <a class="code" href="classAddress.html#p0">hostname_</a>, addr-&gt;<a class="code" href="classAddress.html#a6">getHostname</a>() ) == 0 ) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00190     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00191   } 
00192   <span class="keywordtype">bool</span> <a class="code" href="classAddress.html#a13">isSameMACAddr</a>(<a class="code" href="classAddress.html">Address</a>* addr);
00193 
00194 <span class="keyword">protected</span>:
<a name="l00195"></a><a class="code" href="classAddress.html#p0">00195</a>   <span class="keywordtype">char</span>   <a class="code" href="classAddress.html#p0">hostname_</a>[MAX_HOSTNAME_LENGTH]; 
<a name="l00196"></a><a class="code" href="classAddress.html#p1">00196</a>   <span class="keywordtype">short</span> <a class="code" href="classAddress.html#p1">port_</a>;  
<a name="l00197"></a><a class="code" href="classAddress.html#p2">00197</a>   <span class="keywordtype">char</span> * <a class="code" href="classAddress.html#p2">ipaddr_</a>;  
<a name="l00198"></a><a class="code" href="classAddress.html#p3">00198</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   <a class="code" href="classAddress.html#p3">macaddr_</a>[MAC_ADDR_LENGTH]; 
00199   
00200 };
00201 
00203 
<a name="l00214"></a><a class="code" href="classPort.html">00214</a> <span class="keyword">class </span><a class="code" href="classPort.html">Port</a>
00215 {
00216  <span class="keyword">public</span>:
00218   <a class="code" href="classPort.html#a0">Port</a>();
<a name="l00220"></a><a class="code" href="classPort.html#a1">00220</a>   <span class="keyword">virtual</span> <a class="code" href="classPort.html#a1">~Port</a>(){}
00224   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#a2">init</a>()=0;
00226   <span class="keywordtype">void</span> <a class="code" href="classPort.html#a3">setAddress</a>(<a class="code" href="classAddress.html">Address</a> *addr);
00228   <span class="keywordtype">void</span> <a class="code" href="classPort.html#a4">setRemoteAddress</a>( <a class="code" href="classAddress.html">Address</a> *daddr);
<a name="l00230"></a><a class="code" href="classPort.html#a5">00230</a>   <span class="keyword">inline</span> <a class="code" href="classAddress.html">Address</a> *<a class="code" href="classPort.html#a5">getRemoteAddr</a>(){<span class="keywordflow">return</span> &amp;<a class="code" href="classPort.html#p1">itsaddr_</a>;}
<a name="l00232"></a><a class="code" href="classPort.html#a6">00232</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#a6">closePort</a>(){close(<a class="code" href="classPort.html#p4">sockfd_</a>);}
00233  <span class="keyword">protected</span>:
00235   <span class="keyword">struct </span>sockaddr* <a class="code" href="classPort.html#b0">setSockAddress</a>(<a class="code" href="classAddress.html">Address</a> *addr, <span class="keyword">struct</span> sockaddr_in *address);
00237   <span class="keywordtype">void</span> <a class="code" href="classPort.html#b1">decodeSockAddress</a> ( <a class="code" href="classAddress.html">Address</a> *addr, <span class="keyword">struct</span> sockaddr_in *address);
<a name="l00239"></a><a class="code" href="classPort.html#b2">00239</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#b2">setHostname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* hostname){ <a class="code" href="classPort.html#p0">myaddr_</a>.<a class="code" href="classAddress.html#a5">setHostname</a>(hostname);}
<a name="l00241"></a><a class="code" href="classPort.html#b3">00241</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#b3">setPort</a>(<span class="keyword">const</span> <span class="keywordtype">short</span> port){ <a class="code" href="classPort.html#p0">myaddr_</a>.<a class="code" href="classAddress.html#a3">setPort</a>(port);}
<a name="l00243"></a><a class="code" href="classPort.html#b4">00243</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#b4">setRemoteHostname</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* hostname){<a class="code" href="classPort.html#p1">itsaddr_</a>.<a class="code" href="classAddress.html#a5">setHostname</a>(hostname);}
<a name="l00245"></a><a class="code" href="classPort.html#b5">00245</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classPort.html#b5">setRemotePort</a>(<span class="keyword">const</span> <span class="keywordtype">short</span> port){<a class="code" href="classPort.html#p1">itsaddr_</a>.<a class="code" href="classAddress.html#a3">setPort</a>(port); }
<a name="l00247"></a><a class="code" href="classPort.html#b6">00247</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classPort.html#b6">getSock</a>(){ <span class="keywordflow">return</span> <a class="code" href="classPort.html#p4">sockfd_</a>;}
00248  
00249  <span class="keyword">protected</span>:
<a name="l00250"></a><a class="code" href="classPort.html#p0">00250</a>   <a class="code" href="classAddress.html">Address</a> <a class="code" href="classPort.html#p0">myaddr_</a>;  
<a name="l00251"></a><a class="code" href="classPort.html#p1">00251</a>   <a class="code" href="classAddress.html">Address</a> <a class="code" href="classPort.html#p1">itsaddr_</a>; 
<a name="l00252"></a><a class="code" href="classPort.html#p2">00252</a>   <span class="keyword">struct </span>sockaddr_in mySockAddress_;  
<a name="l00253"></a><a class="code" href="classPort.html#p3">00253</a>   <span class="keyword">struct </span>sockaddr_in dstSockAddress_;  
<a name="l00254"></a><a class="code" href="classPort.html#p4">00254</a>   <span class="keywordtype">int</span> <a class="code" href="classPort.html#p4">sockfd_</a>; 
00255 };
00256 
00257 
00259 
<a name="l00268"></a><a class="code" href="classTxTimer.html">00268</a> <span class="keyword">class </span><a class="code" href="classTxTimer.html">TxTimer</a>{
00269 <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classSendingPort.html">SendingPort</a>;
00270  <span class="keyword">public</span>:
00271     <a class="code" href="classTxTimer.html#a0">TxTimer</a>(<a class="code" href="classSendingPort.html">SendingPort</a> *txport);
00276     <span class="keywordtype">void</span> <a class="code" href="classTxTimer.html#a1">startTimer</a>(<span class="keywordtype">float</span> delay);
00280     <span class="keywordtype">void</span> <a class="code" href="classTxTimer.html#a2">stopTimer</a>();
00281  <span class="keyword">public</span>:
00285     <span class="keyword">static</span> <span class="keywordtype">void</span> *<a class="code" href="classTxTimer.html#e0">timerProc</a>(<span class="keywordtype">void</span> *arg); 
00286  <span class="keyword">protected</span>:
<a name="l00290"></a><a class="code" href="classTxTimer.html#p0">00290</a>     <a class="code" href="classSendingPort.html">SendingPort</a> *<a class="code" href="classTxTimer.html#p0">port_</a>;
<a name="l00294"></a><a class="code" href="classTxTimer.html#p1">00294</a>     <span class="keyword">struct </span>timespec tdelay_;
<a name="l00298"></a><a class="code" href="classTxTimer.html#p2">00298</a>     pthread_t <a class="code" href="classTxTimer.html#p2">tid_</a>;
00299 };
00300 
00301 
00302 
00304 
<a name="l00307"></a><a class="code" href="classSendingPort.html">00307</a> <span class="keyword">class </span><a class="code" href="classSendingPort.html">SendingPort</a> : <span class="keyword">public</span> <a class="code" href="classPort.html">Port</a>
00308 {
00309  <span class="keyword">public</span>:
00310   <a class="code" href="classSendingPort.html">SendingPort</a>();
00312   <a class="code" href="classSendingPort.html">SendingPort</a>(<span class="keywordtype">char</span>* hostname, <span class="keywordtype">short</span> port);
<a name="l00314"></a><a class="code" href="classSendingPort.html#a2">00314</a>   <span class="keyword">virtual</span> <a class="code" href="classSendingPort.html#a2">~SendingPort</a>(){}
00318   <span class="keywordtype">void</span> <a class="code" href="classSendingPort.html#a3">init</a>();
00324   <span class="keywordtype">void</span> <a class="code" href="classSendingPort.html#a4">sendPacket</a>(<a class="code" href="classPacket.html">Packet</a> *pkt);
<a name="l00328"></a><a class="code" href="classSendingPort.html#a5">00328</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classSendingPort.html#a5">setBroadcast</a>(){<a class="code" href="classSendingPort.html#p0">bcastflag_</a> = 1;}
<a name="l00332"></a><a class="code" href="classSendingPort.html#a6">00332</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classSendingPort.html#a6">setBroadcastOff</a>(){<a class="code" href="classSendingPort.html#p0">bcastflag_</a> = 0;}
00338   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSendingPort.html#a7">timerHandler</a>()=0;
00339 
00340 
00341  <span class="keyword">protected</span>:
00343 
<a name="l00346"></a><a class="code" href="classSendingPort.html#p0">00346</a>   <span class="keywordtype">int</span> <a class="code" href="classSendingPort.html#p0">bcastflag_</a>; 
<a name="l00350"></a><a class="code" href="classSendingPort.html#p1">00350</a>   <span class="keywordtype">char</span> *<a class="code" href="classSendingPort.html#p1">sendingbuf_</a>;
00351 
00352  <span class="keyword">public</span>:
<a name="l00357"></a><a class="code" href="classSendingPort.html#o0">00357</a>    <a class="code" href="classTxTimer.html">TxTimer</a> <a class="code" href="classSendingPort.html#o0">timer_</a>;
00358 };
00359 
00361 
<a name="l00369"></a><a class="code" href="classReceivingPort.html">00369</a> <span class="keyword">class </span><a class="code" href="classReceivingPort.html">ReceivingPort</a> : <span class="keyword">public</span> <a class="code" href="classPort.html">Port</a>
00370 {
00371  <span class="keyword">public</span>:
00372   <a class="code" href="classReceivingPort.html#a0">ReceivingPort</a>();
00373   <span class="keyword">virtual</span> ~<a class="code" href="classReceivingPort.html">ReceivingPort</a>(){}
00374   <span class="keywordtype">void</span> <a class="code" href="classReceivingPort.html#a2">init</a>();
00376   <a class="code" href="classPacket.html">Packet</a>* <a class="code" href="classReceivingPort.html#a3">receivePacket</a>(); 
00377   
00378  <span class="keyword">protected</span>:
<a name="l00382"></a><a class="code" href="classReceivingPort.html#p0">00382</a>    <a class="code" href="classPacket.html">Packet</a> *<a class="code" href="classReceivingPort.html#p0">pkt_</a>;   
<a name="l00383"></a><a class="code" href="classReceivingPort.html#p1">00383</a>    <span class="keywordtype">char</span> *<a class="code" href="classReceivingPort.html#p1">tmpBuffer_</a>;  
00384 };
00385 
00387 
<a name="l00390"></a><a class="code" href="classLossyReceivingPort.html">00390</a> <span class="keyword">class </span><a class="code" href="classLossyReceivingPort.html">LossyReceivingPort</a>: <span class="keyword">public</span> <a class="code" href="classReceivingPort.html">ReceivingPort</a>
00391 {
00392  <span class="keyword">public</span>:
00393   <a class="code" href="classLossyReceivingPort.html#a0">LossyReceivingPort</a>(<span class="keywordtype">float</span> lossyratio);
00394   ~<a class="code" href="classLossyReceivingPort.html">LossyReceivingPort</a>(){}
00395   <a class="code" href="classPacket.html">Packet</a>* <a class="code" href="classLossyReceivingPort.html#a2">receivePacket</a>();
00396  <span class="keyword">protected</span>:
<a name="l00397"></a><a class="code" href="classLossyReceivingPort.html#p0">00397</a>   <span class="keywordtype">float</span> <a class="code" href="classLossyReceivingPort.html#p0">loss_ratio_</a>; 
<a name="l00398"></a><a class="code" href="classLossyReceivingPort.html#p1">00398</a>   <span class="keywordtype">int</span> <a class="code" href="classLossyReceivingPort.html#p1">secdelay_</a>;     
00399 };
00400 
00401 <span class="preprocessor">#endif</span>
00402 <span class="preprocessor"></span>
00403 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Feb 17 17:55:49 2006 for Common_Classes_Projects_ECE544 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
